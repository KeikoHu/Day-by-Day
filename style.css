:root{
  --bg:#09090b;
  --card:#0b0b10;
  --card2:#111118;
  --border:#27272a;
  --text:#fafafa;
  --muted:#a1a1aa;
  --muted2:#71717a;
  --green:#22c55e;
  --green2:rgba(34,197,94,.2);
  --danger:#ef4444;
}

/* Basic reset */
*{box-sizing:border-box}
body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
  background:var(--bg);
  color:var(--text);
}

/* Topbar + Nav */
.topbar{
  position:sticky;
  top:0;
  z-index:50;
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:16px;
  padding:14px 18px;
  border-bottom:1px solid var(--border);
  background:rgba(9,9,11,.85);
  backdrop-filter: blur(10px);
}
.brand{display:flex;align-items:center;gap:12px}
.logo{width:42px;height:42px;display:grid;place-items:center;border-radius:18px;background:var(--card2);border:1px solid var(--border);font-size:20px}
.subtitle{font-size:12px;color:var(--muted)}
.title{font-size:18px;font-weight:700;letter-spacing:-.2px}
.top-actions{display:flex;align-items:center;gap:10px}
.search{position:relative;display:flex;align-items:center;background:var(--card2);border:1px solid var(--border);border-radius:18px;padding:10px 12px;gap:8px}
.search input{width:240px;border:none;outline:none;background:transparent;color:var(--text);font-size:14px}
.search .icon{opacity:.7}

/* Nav Tabs */
.nav-tabs{display:flex;gap:6px}
.tab-btn{padding:8px 14px;border-radius:16px;border:none;background:var(--card2);color:var(--text);cursor:pointer;font-weight:600}
.tab-btn.active{background:var(--green2);border:1px solid rgba(34,197,94,.35)}

/* Layout */
.container{max-width:1200px;margin:0 auto;padding:18px;display:grid;gap:16px;grid-template-columns:1fr}
.page.hidden{display:none}

/* Card */
.card{background:linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.01));border:1px solid var(--border);border-radius:26px;padding:16px;box-shadow: 0 10px 40px rgba(0,0,0,.35);}
.card-header{display:flex;align-items:flex-start;justify-content:space-between;gap:10px;margin-bottom:14px}
.card-header h2{margin:0;font-size:20px}

/* Table */
.table-wrap{overflow:auto;border-radius:18px;border:1px solid var(--border)}
table{width:100%;border-collapse:collapse;min-width:820px}
th, td{border-bottom:1px solid rgba(255,255,255,.04);padding:10px;text-align:center}
thead th{background:rgba(255,255,255,.04);font-size:13px;position:sticky;top:0;z-index:2}
th.habit-col, td.habit-col{text-align:left;position:sticky;left:0;z-index:3;background:rgba(9,9,11,.95);border-right:1px solid var(--border);min-width:320px}
.habit-name{font-weight:650;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:290px}
.today{background:rgba(34,197,94,.08)}
.cell-btn{width:28px;height:28px;border-radius:10px;border:1px solid rgba(255,255,255,.18);background:transparent;color:var(--text);cursor:pointer;font-weight:900}
.cell-btn:hover{background:rgba(255,255,255,.06)}
.cell-btn.checked{background:rgba(34,197,94,.18);border-color: rgba(34,197,94,.65)}
.bottom-row{display:flex;justify-content:space-between;align-items:center;gap:12px;margin-top:14px}

/* Buttons */
.btn{border:none;cursor:pointer;padding:10px 14px;border-radius:18px;background:var(--card2);color:var(--text);border:1px solid var(--border);font-weight:600}
.btn:hover{filter:brightness(1.1)}
.btn.primary{background:var(--green2);border:1px solid rgba(34,197,94,.35)}
.btn.danger{background:rgba(239,68,68,.12);border:1px solid rgba(239,68,68,.35)}

/* Progress + XP */
.progress-block{margin-top:6px}
.row{display:flex;justify-content:space-between;align-items:center;gap:10px}
.progressbar{margin-top:10px;height:12px;border-radius:999px;background:rgba(255,255,255,.05);overflow:hidden;border:1px solid rgba(255,255,255,.06)}
.progressbar.thin{height:9px}
.fill{height:100%;width:0%;background:rgba(34,197,94,.65);border-radius:999px;transition:width .25s ease}
.xp-card{margin-top:14px;padding:14px;border-radius:20px;border:1px solid rgba(255,255,255,.08);background:rgba(255,255,255,.03)}
.badge{padding:8px 12px;border-radius:16px;font-weight:700;background:rgba(34,197,94,.15);border:1px solid rgba(34,197,94,.25);color:#bbf7d0}

/* Charts */
.chart-block{margin-top:10px;padding-top:10px;border-top:1px solid rgba(255,255,255,.06)}
canvas{width:100%;border-radius:18px;margin-top:10px;background:rgba(255,255,255,.02);border:1px solid rgba(255,255,255,.06)}

.footer{max-width:1200px;margin:0 auto;padding:0 18px 22px;font-size:12px;opacity:.85}
/* ----------------- Mobile Responsive ----------------- */
@media (max-width: 768px) {
  /* Container & Layout */
  .container {
    padding: 12px;
  }

  .topbar {
    flex-direction: column;
    align-items: flex-start;
    gap: 10px;
  }

  .brand {
    flex-direction: column;
    align-items: flex-start;
  }

  .nav-tabs {
    flex-wrap: wrap;
    gap: 4px;
  }

  /* Search Input */
  .search input {
    width: 140px;
  }

  /* Table (desktop fallback, small screens) */
  .table-wrap {
    overflow-x: auto;
  }

  table {
    min-width: 600px;
  }

  th, td {
    padding: 6px;
    font-size: 12px;
  }

  .habit-name {
    max-width: 120px;
  }

  /* Buttons */
  .btn {
    padding: 6px 10px;
    font-size: 12px;
  }

  .cell-btn {
    width: 36px;
    height: 36px;
    font-size: 16px;
  }

  /* Progress Bars */
  .progressbar {
    height: 10px;
  }

  .progressbar.thin {
    height: 6px;
  }

  /* XP Card */
  .xp-card {
    padding: 10px;
  }

  .badge {
    padding: 4px 8px;
    font-size: 12px;
  }

  /* Charts */
  canvas {
    height: auto !important;
  }

  /* Habit Cards (mobile card layout) */
  .habit-cards {
    display: flex;
    flex-direction: column;
    gap: 12px;
  }

  .habit-card {
    background: var(--card2);
    border: 1px solid var(--border);
    border-radius: 18px;
    padding: 12px;
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .habit-card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 8px;
  }

  .habit-card-name {
    font-weight: 600;
    font-size: 16px;
  }

  .habit-card-days {
    display: flex;
    gap: 6px;
    flex-wrap: wrap;
  }

  .habit-card-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 6px;
  }

  .habit-streak {
    font-weight: 700;
    font-size: 14px;
  }
}

